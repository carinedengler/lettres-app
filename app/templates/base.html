<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="robots" content="noindex, nofollow">
    <link rel="shortcut icon" href="http://www.chartes.psl.eu/favicon.ico" type="image/vnd.microsoft.icon">
    {% block title %}
        {% if title %}<title>{{ title }}</title>{% endif %}
    {% endblock %}

    <link href="https://fonts.googleapis.com/css?family=Bitter" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    {% block head_scripts %}
    {% endblock head_scripts %}
</head>
<body>

{% macro render_active_navbar_item(endpoint, label,  icon_cls='', active='') %}
  {% if request.endpoint == endpoint or active == endpoint %}
    <a class='navbar-item is-active {{cls}}' href="{{url_for(endpoint)}}">
  {% else %}
    <a class='navbar-item  {{cls}}' href="{{url_for(endpoint)}}">
  {% endif %}
  {% if icon_cls|length > 0 %}
      <i class="{{icon_cls}}"></i>
      <span style="margin-right: 12px;">
      {{label}}
      </span>
  {% else %}
      {{label}}
  {% endif %}
    </a>
{% endmacro %}

{% block hero %}
    <section class="red-hero">
    </section>
    <section class="hero">
        <div class="hero-head">
             <div id="navbar" >
                <nav class="navbar-menu">
                     {{ render_active_navbar_item('app_bp.index', 'Les collections') }}
                     {{ render_active_navbar_item('app_bp.documentation', 'Documentation') }}
                     {{ render_active_navbar_item('app_bp.about', 'À propos') }}
                     <div class="navbar-end">
                        {% if current_user.is_anonymous %}
                          {{ render_active_navbar_item('user.login', 'Connexion', icon_cls='fas fa-sign-in-alt') }}
                        {% else %}
                          {{ render_active_navbar_item('user.edit_user_profile', current_user.username, icon_cls='fas fa-user-alt') }}
                          {{ render_active_navbar_item('user.logout', 'Déconnexion', icon_cls='fas fa-sign-out-alt') }}
                        {% endif %}
                    </div>
                </nav>
             </div>
        </div>
    </section>
{% endblock %}

{% block flash_messages %}
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <section class="message-section">
                <div class="container is-fullhd">{% for category, message in messages %}
                    <article class="message {% if category == 'success' %}is-info{% else %}is-warning{% endif %}">
                        <div class="message-body">
                            <ul>
                                <li role="alert">{{ message }}</li>
                            </ul>
                        </div>
                    </article> {% endfor %}
                </div>
            </section>
        {% endif %}
    {% endwith %}
{% endblock %}

{% block content %}
    {% block app_content %}{% endblock %}
{% endblock %}

{% block footer %}
<footer class="footer">
  <div class="content has-text-centered">
        <aside>
            <a  href="{{ url_for('app_bp.index') }}">
                 <img src="{{ url_for('app_bp.static', filename='images/logo-ecole-nationale-des-chartes-header.png') }}"
                      alt="École Nationale des Chartes - PSL">
            </a>
        </aside>
    </div>
  </div>
</footer>
{% endblock %}

{% block scripts %}
{% endblock %}

</body>

<style type="text/css">

  body {
    min-height: 800px;
  }

  nav span {
    margin-left: 12px;
  }

  .red-hero {
    height: 100px;
    background-color: #962D3E;
  }

  .hero .title {
    font: 90%/140% 'Oxygen', sans-serif;
    color: white;
  }
  .navbar-item {
    color: white;
    padding: 0px 40px 0px 40px;
    height: 60px;

  }
  .navbar-item.is-active {
    color: #348899 !important;
    background: whitesmoke !important;
  }

  #navbar {
    background: #343642;

    text-align: center;
    font: 1.2em 'Oxygen', sans-serif;
  }
  .navbar-item img {
    max-height: 60px;
  }
  #navbar nav {
        margin: auto;
        width: 100%;
  }
</style>
</html>
